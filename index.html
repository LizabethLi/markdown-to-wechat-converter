<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-353YL13KCR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-353YL13KCR');
    </script>
    
    <title>Markdown to å¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆè½¬æ¢å™¨</title>
    
    <!-- å¤–éƒ¨CSS -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <!-- Mermaid for flowchart rendering -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    
    <!-- MathJaxé…ç½®å’ŒåŠ è½½ -->
    <script src="js/config.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>
    <div id="scratch" style="display:none;"></div>
    
    <div class="header">
        <h1> Markdown Converter</h1>
        <p> Translate Markdown to WeChat Format or GitHub (Markdown) </p>
        <p><a href="https://github.com/LizabethLi/markdown-to-wechat-converter" target="_blank" rel="noopener noreferrer">GitHub Link</a></p>
    </div>
    
    <div class="container">
        <div class="panel">
            <div class="panel-header">
                <!-- <span class="panel-title"> Markdown Input</span> -->
                <div>
                    <select id="channelSelect" style="margin-right: 10px; padding: 5px; border: 1px solid #ddd; border-radius: 4px;" onchange="updateOutput()" title="é€‰æ‹©è¾“å‡ºæ¸ é“">
                        <option value="wechat">WeChat</option>
                        <option value="github">GitHub (Markdown)</option>
                    </select>
                    <select id="templateSelect" style="margin-right: 10px; padding: 5px; border: 1px solid #ddd; border-radius: 4px;" title="é€‰æ‹©æ¨¡æ¿">
                        <option value="wechat-default">é»˜è®¤æ¨¡æ¿</option>
                    </select>
                    <div class="theme-selector" style="display: inline-block; position: relative; margin-right: 10px;">
                        <button id="themeButton" class="btn theme-btn" onclick="toggleThemePanel()" title="é€‰æ‹©ä¸»é¢˜è‰²">
                            ğŸ¨
                        </button>
                        <div id="themePanel" class="theme-panel" style="display: none;">
                            <div class="theme-panel-header">é€‰æ‹©ä¸»é¢˜è‰²</div>
                            <div class="theme-options">
                                <div class="theme-option" data-theme="purple" onclick="selectTheme('purple')">
                                    <div class="theme-color" style="background: #7E3AF2;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">ç»å…¸ç´«è‰²</div>
                                        <div class="theme-desc">ä¼˜é›…ä¸“ä¸š</div>
                                    </div>
                                </div>
                                <div class="theme-option" data-theme="blue" onclick="selectTheme('blue')">
                                    <div class="theme-color" style="background: #2563EB;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">å•†åŠ¡è“è‰²</div>
                                        <div class="theme-desc">å•†åŠ¡æ­£å¼</div>
                                    </div>
                                </div>
                                <div class="theme-option" data-theme="orange" onclick="selectTheme('orange')">
                                    <div class="theme-color" style="background: #EA580C;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">æ´»åŠ›æ©™è‰²</div>
                                        <div class="theme-desc">æ´»æ³¼åˆ›æ–°</div>
                                    </div>
                                </div>
                                <div class="theme-option" data-theme="green" onclick="selectTheme('green')">
                                    <div class="theme-color" style="background: #16A34A;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">è‡ªç„¶ç»¿è‰²</div>
                                        <div class="theme-desc">æ¸…æ–°è‡ªç„¶</div>
                                    </div>
                                </div>
                                <div class="theme-option" data-theme="red" onclick="selectTheme('red')">
                                    <div class="theme-color" style="background: #DC2626;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">æ¿€æƒ…çº¢è‰²</div>
                                        <div class="theme-desc">çƒ­æƒ…æ´»åŠ›</div>
                                    </div>
                                </div>
                                <div class="theme-option" data-theme="cyan" onclick="selectTheme('cyan')">
                                    <div class="theme-color" style="background: #0891B2;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">æ·±æµ·è“</div>
                                        <div class="theme-desc">ç¨³é‡æ·±æ²‰</div>
                                    </div>
                                </div>
                                <div class="theme-option" data-theme="mint" onclick="selectTheme('mint')">
                                    <div class="theme-color" style="background: #01fabd;"></div>
                                    <div class="theme-info">
                                        <div class="theme-name">è–„è·é’</div>
                                        <div class="theme-desc">æ¸…çˆ½æ´»åŠ›</div>
                                    </div>
                                </div>
                                <hr class="theme-divider">
                                <div class="theme-option custom-color-option" style="display: flex; align-items: center; cursor: default;">
                                    <input id="customColorInput" type="text" maxlength="9" placeholder="#RRGGBB" class="custom-color-input" oninput="UIController.previewCustomColor()" style="margin-right: 10px; width: 90px;" />
                                    <div id="customColorPreview" class="custom-color-preview" style="width: 24px; height: 24px; border-radius: 6px; border: 1px solid #ddd; margin-right: 10px;"></div>
                                    <button class="btn custom-color-btn" onclick="UIController.applyCustomColor()">åº”ç”¨è‡ªå®šä¹‰é¢œè‰²</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="theme-selector" style="display: inline-block; position: relative; margin-right: 10px;">
                        <button id="translatorButton" class="btn theme-btn" onclick="toggleTranslatorPanel()" title="ç¿»è¯‘è®¾ç½®">
                            âš™ï¸
                        </button>
                        <div id="translatorPanel" class="theme-panel" style="display: none;">
                            <div class="theme-panel-header">ç¿»è¯‘è®¾ç½®</div>
                            <div class="theme-options">
                                <div class="theme-option" style="cursor: default;">
                                    <div class="theme-info" style="width: 100%;">
                                        <div class="theme-name">OpenRouter API Key</div>
                                        <input id="translatorApiKey" type="password" placeholder="ç²˜è´´ä½ çš„ OpenRouter API Key" class="custom-color-input" style="width: 100%; margin-top: 6px;" />
                                        <div style="font-size: 12px; color: #666; margin-top: 4px;">æœ¬åœ°ä¿å­˜åˆ°æµè§ˆå™¨ï¼Œä»…ç”¨äºå½“å‰è®¾å¤‡</div>
                                    </div>
                                </div>
                                <div class="theme-option" style="cursor: default;">
                                    <div class="theme-info" style="width: 100%;">
                                        <div class="theme-name">é€‰æ‹©æ¨¡å‹</div>
                                        <select id="translatorModelSelect" class="custom-color-input" style="width: 100%; margin-top: 6px;" onchange="UIController.onTranslatorModelChange()">
                                            <option value="openai/gpt-4o-mini">GPT-4oï¼ˆopenai/gpt-4o-miniï¼‰</option>
                                            <option value="google/gemini-1.5-flash-latest">Gemini 1.5 Flashï¼ˆgoogle/gemini-1.5-flash-latestï¼‰</option>
                                            <option value="deepseek/deepseek-chat">DeepSeek Chatï¼ˆdeepseek/deepseek-chatï¼‰</option>
                                            <option value="custom">è‡ªå®šä¹‰æ¨¡å‹ ID...</option>
                                        </select>
                                        <input id="translatorModelCustom" type="text" placeholder="e.g, openai/gpt-4o-mini" class="custom-color-input" style="width: 100%; margin-top: 6px; display: none;" />
                                        <div id="translatorModelCustomHint" style="display: none; font-size: 12px; color: #666; margin-top: 4px;">
                                            check <a href="https://openrouter.ai/models" target="_blank" rel="noopener noreferrer">https://openrouter.ai/models</a> for more models
                                        </div>
                                    </div>
                                </div>
                                <div class="theme-option" style="cursor: default;">
                                    <div class="theme-info" style="width: 100%;">
                                        <div class="theme-name">System Promptï¼ˆå¯é€‰ï¼‰</div>
                                        <textarea id="translatorSystemPrompt" placeholder="ä¾‹å¦‚ï¼šä¿æŒ Markdown ç»“æ„ï¼›æœ¯è¯­è¡¨ï¼šLLMâ†’LLMï¼Œå¤§æ¨¡å‹â†’foundation modelï¼›é£æ ¼ï¼šæ¸…æ™°ã€ç®€æ´" class="custom-color-input" style="width: 100%; height: 120px; margin-top: 6px;"></textarea>
                                    </div>
                                </div>
                                <div style="display: flex; justify-content: flex-end; gap: 8px; padding: 8px;">
                                    <button class="btn custom-color-btn" onclick="UIController.saveTranslatorSettings()">ä¿å­˜å¹¶åº”ç”¨</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn" onclick="loadExample()">Load Example</button>
                </div>
            </div>
            <div id="channelReminder" class="channel-reminder" role="alert"></div>
            <div class="panel-content">
                <textarea id="markdownInput" placeholder="åœ¨è¿™é‡Œè¾“å…¥ä½ çš„ Markdown å†…å®¹...

ğŸ’¡ ä½¿ç”¨æç¤ºï¼š
â€¢ æ”¯æŒåµŒå¥—åˆ—è¡¨ï¼šä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›è¡¨ç¤ºä¸‹ä¸€çº§

ç¤ºä¾‹ï¼š
# è¿™æ˜¯ä¸»æ ‡é¢˜
## è¿™æ˜¯å‰¯æ ‡é¢˜  
### è¿™æ˜¯å°æ ‡é¢˜

è¿™æ˜¯ä¸€æ®µæ­£æ–‡ï¼Œæ”¯æŒ **ç²—ä½“** å’Œ *æ–œä½“*ã€‚

- **ä¸€çº§åˆ—è¡¨é¡¹ç›®1**
    - äºŒçº§åˆ—è¡¨é¡¹ç›®1
    - äºŒçº§åˆ—è¡¨é¡¹ç›®2
        - ä¸‰çº§åˆ—è¡¨é¡¹ç›®1
        - ä¸‰çº§åˆ—è¡¨é¡¹ç›®2
- **ä¸€çº§åˆ—è¡¨é¡¹ç›®2**
    - äºŒçº§åˆ—è¡¨é¡¹ç›®3

> è¿™æ˜¯å¼•ç”¨å†…å®¹

```javascript
console.log('Hello, world!');
```

| è¡¨å¤´1 | è¡¨å¤´2 |
|---|---|
| å•å…ƒæ ¼1 | å•å…ƒæ ¼2 |

è¡Œå†…å…¬å¼ï¼š$E = mc^2$

å—çº§å…¬å¼ï¼š$$ \frac{-b \pm \sqrt{b^2-4ac}}{2a} $$

![å›¾ç‰‡æè¿°](https://via.placeholder.com/400x200)

ğŸ”¥ å¤åˆ¶åˆ°å¾®ä¿¡å…¬ä¼—å·æ—¶è¯·ä½¿ç”¨ã€ç²˜è´´å¹¶ä¿ç•™æ ¼å¼ã€‘æˆ–ã€Ctrl+Shift+Vã€‘
"></textarea>
            </div>
        </div>
        
        <div class="panel">
            <div class="tabs">
                <button class="tab active" onclick="showTab('preview')">ğŸ” Preview</button>
                <button id="codeTabButton" class="tab" onclick="showTab('html')">ğŸ“„ HTML</button>
            </div>
            
            <div id="previewTab" class="tab-content active">
                <div class="panel-header">
                    <span class="panel-title">ğŸ‘€ æ•ˆæœé¢„è§ˆ (å¯æ»šåŠ¨æŸ¥çœ‹)</span>
                    <button class="btn" id="copyPreviewBtn" onclick="copyPreview()">å¤åˆ¶æ ·å¼ä»£ç </button>
                </div>
                <div id="preview" class="wechat-preview"></div>
            </div>
            
            <div id="htmlTab" class="tab-content">
                <div class="panel-header">
                    <span id="codeTabTitle" class="panel-title">ğŸ“‹ HTML ä»£ç  (å¯æ»šåŠ¨æŸ¥çœ‹)</span>
                    <button class="btn" id="copyHtmlBtn" onclick="copyHtml()">å¤åˆ¶ä»£ç </button>
                </div>
                <textarea id="htmlOutput" readonly></textarea>
            </div>
        </div>
    </div>
    
    <!-- å¤–éƒ¨JavaScriptæ¨¡å— -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/3.0.8/marked.min.js"></script>
    <script src="js/template-manager.js"></script>
    <script src="js/wechat-styles.js"></script>
    <script src="js/templates/wechat-default.js"></script>
    <script src="js/templates/wechat-minimal.js"></script>
    <script src="js/templates/wechat-magazine.js"></script>
    <script src="js/templates/wechat-notebook.js"></script>
    <script src="js/templates/wechat-winter.js"></script>
    <script src="js/translator.js"></script>
    <script src="js/channel-converter.js"></script>
    <script src="js/math-renderer.js"></script>
    <script src="js/markdown-converter.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="assets/examples.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
